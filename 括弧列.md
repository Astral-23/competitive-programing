
# 同値な定義
> 命題: バランスの取れた括弧列である ⇔ ( -> 1, ) -> -1 とした時、次の2条件を満たす
> 1.累積和列の全ての要素が $0$ 以上
> 2.累積和列の末尾が $0$ (i.e.総和が $0$)

# 性質
> 補題: 総和が $0$ である数列 $A$ に対し $[0, n) -> [i+1, n) + [0, i]$ となるようにcyclic shiftすると、 $A$ の累積和列 $S$ の変化は次で表される。
> $$ Sの全ての項を -= S[i] した後、 Sを同様に \text{cyclic shift} する $$  
証明: 計算すれば良い

> 命題: 総和が $0$ になる括弧列 $S$ が存在する時、$S$ の cyclic shiftであってバランスの取れた括弧列であるものが存在する。  

証明: 構成できる。
$S$ の累積和列において、minを取る任意の添字を $i$ として、 $i$ が末尾に来るようにcyclic shift すれば良い。また、逆にそうではない cyclic shiftはバランスの取れた括弧列にならない。


## バランスの取れた括弧列 <-> 木
- 一番外側の()を根、その内側の()をそれぞれ子の部分木とする規則により、木とバランスの取れた括弧列が1:1対応する
